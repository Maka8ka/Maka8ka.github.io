<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Java 反射(简) | Maka8ka&#39;s Garden</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Java 反射(简)" />
<meta property="og:description" content="Junit_测试 单元测试断言
@Test 无需psvm main函数
@Before 一般用于资源申请
@After 一般用于资源释放
package com.demojunit; import org.junit.After; import org.junit.Assert; import org.junit.Before; import org.junit.Test; public class CalcTest { /* 初始化方法 */ @Before public void init(){ System." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.maka8ka.cc/post/java-%E5%8F%8D%E5%B0%84-%E7%AE%80/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-01-02T22:00:41&#43;00:00" />
<meta property="article:modified_time" content="2019-01-02T22:00:41&#43;00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Java 反射(简)"/>
<meta name="twitter:description" content="Junit_测试 单元测试断言
@Test 无需psvm main函数
@Before 一般用于资源申请
@After 一般用于资源释放
package com.demojunit; import org.junit.After; import org.junit.Assert; import org.junit.Before; import org.junit.Test; public class CalcTest { /* 初始化方法 */ @Before public void init(){ System."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://www.maka8ka.cc/css/style-white.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://www.maka8ka.cc/images/favicon.ico" />

  
  
  
  
  
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RFYM27MKD6"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-RFYM27MKD6', { 'anonymize_ip': false });
}
</script>

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="https://www.maka8ka.cc/">
  
    <div id="logo" style="background-image: url(https://www.maka8ka.cc/images/logo.png)"></div>
  
  <div id="title">
    <h1>Maka8ka&#39;s Garden</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#" aria-label="Menu"><i class="fas fa-bars fa-2x" aria-hidden="true"></i></a>
      </li>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/post/">Posts</a></li>
      
        <li><a href="/categories/">Categories</a></li>
      
        <li><a href="https://github.com/Maka8ka">Github</a></li>
      
    </ul>
  </div>
</header>



    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="content" itemprop="articleBody">
  
    <h3 id="junit_测试">Junit_测试</h3>
<p>单元测试断言</p>
<p>@Test 无需psvm main函数</p>
<p>@Before 一般用于资源申请</p>
<p>@After 一般用于资源释放</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.demojunit<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.After<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.Assert<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.Before<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.Test<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CalcTest</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">/*
</span><span style="color:#75715e">    初始化方法
</span><span style="color:#75715e">    */</span>
    <span style="color:#a6e22e">@Before</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;initing&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#75715e">/*
</span><span style="color:#75715e">    结束方法
</span><span style="color:#75715e">    */</span>
    <span style="color:#a6e22e">@After</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;closeing&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testAdd</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;run&#34;</span><span style="color:#f92672">);</span>
        Calc c <span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Calc<span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>c<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>1<span style="color:#f92672">,</span>2<span style="color:#f92672">));</span><span style="color:#75715e">//单元测试不会输出
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//单元测试使用断言方法,判断是否与期望是否相同
</span><span style="color:#75715e"></span>        Assert<span style="color:#f92672">.</span><span style="color:#a6e22e">assertEquals</span><span style="color:#f92672">(</span>3<span style="color:#f92672">,</span>c<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>2<span style="color:#f92672">,</span>2<span style="color:#f92672">));</span>
        <span style="color:#75715e">/*
</span><span style="color:#75715e">        java.lang.AssertionError:
</span><span style="color:#75715e">        预期:3
</span><span style="color:#75715e">        实际:4
</span><span style="color:#75715e">        预期不同即会报错
</span><span style="color:#75715e">        */</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="反射框架的灵魂">反射：框架的灵魂</h3>
<p>框架：程序脚手架</p>
<p>反射：将类的各个组成部分封装为其他对象</p>
<ul>
<li>获取Class对象的方式-三阶段
<ul>
<li>Class.forName(&ldquo;类名&rdquo;)  — 将字节码文件加载进内存，返回class对象
<ul>
<li>多用于配置文件，将类名定义在配置文件中。读取加载类。</li>
</ul>
</li>
<li>类名.class  — 通过类名的属性class获取</li>
<li>对象.getClass()  — Object类的getClass方法</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.demoreflect<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> com.person.person<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">reflectDemo</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ClassNotFoundException <span style="color:#f92672">{</span>
        <span style="color:#75715e">//获取Class对象的方式1
</span><span style="color:#75715e"></span>        Class cls <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.person.person&#34;</span><span style="color:#f92672">);</span> <span style="color:#75715e">//精确到java文件
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>cls<span style="color:#f92672">);</span>

        <span style="color:#75715e">//获取Class的方式2
</span><span style="color:#75715e"></span>        Class cls2 <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>cls2<span style="color:#f92672">);</span>

        <span style="color:#75715e">//获取Class的方式3
</span><span style="color:#75715e"></span>        person p <span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> person<span style="color:#f92672">();</span>
        Class cls3 <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>cls3<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Class对象常用功能：</p>
<p>获取成员变量</p>
<p>Declared 获得私有变量</p>
<p>setAccessible 忽略访问权限修饰符的安全检测，暴力反射</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.demoreflect<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> com.person.person<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.lang.reflect.Field<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">reflectDemo2</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> NoSuchFieldException<span style="color:#f92672">,</span> IllegalAccessException <span style="color:#f92672">{</span>
        Class personClass <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
        <span style="color:#75715e">//    获取成员变量
</span><span style="color:#75715e"></span>        Field<span style="color:#f92672">[]</span> fields <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getDeclaredFields</span><span style="color:#f92672">();</span> <span style="color:#75715e">//获取Declared私有的变量，在反射中可以修改所有公有私有变量
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>Field field<span style="color:#f92672">:</span>fields<span style="color:#f92672">){</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>field<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#75715e">//获取公有变量
</span><span style="color:#75715e"></span>        Field field <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getField</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;bj&#34;</span><span style="color:#f92672">);</span> <span style="color:#75715e">//不用Declared不能获取私有变量
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>field<span style="color:#f92672">);</span>
        person p1 <span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> person<span style="color:#f92672">();</span>
        field<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>p1<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;class1&#34;</span><span style="color:#f92672">);</span>  <span style="color:#75715e">//利用person.bj的Class方法给p1的bj复制
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>p1<span style="color:#f92672">);</span>
				<span style="color:#75715e">//获取Declared私有的变量
</span><span style="color:#75715e"></span>        Field field1 <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getDeclaredField</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">);</span> <span style="color:#75715e">//用Declared获取私有变量
</span><span style="color:#75715e"></span>        field1<span style="color:#f92672">.</span><span style="color:#a6e22e">setAccessible</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span> <span style="color:#75715e">//修改private安全性，暴力反射
</span><span style="color:#75715e"></span>        field1<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>p1<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;zhangsan&#34;</span><span style="color:#f92672">);</span> <span style="color:#75715e">//获取private修饰的变量
</span><span style="color:#75715e"></span>        Object value <span style="color:#f92672">=</span> field1<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>p1<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>value<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>p1<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>获取构造方法</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">reflectDemo2</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> NoSuchMethodException<span style="color:#f92672">,</span> InvocationTargetException<span style="color:#f92672">,</span> InstantiationException<span style="color:#f92672">,</span> IllegalAccessException <span style="color:#f92672">{</span>
        Class personClass <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
        <span style="color:#75715e">//    获取构造方法
</span><span style="color:#75715e"></span>        Constructor constructor <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getConstructor</span><span style="color:#f92672">(</span>String<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>constructor<span style="color:#f92672">);</span>
        Object p1  <span style="color:#f92672">=</span> constructor<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">,</span>23<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span>person<span style="color:#f92672">)</span>p1<span style="color:#f92672">);</span>  <span style="color:#75715e">//向下转型
</span><span style="color:#75715e"></span>
        Object p2  <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span> <span style="color:#75715e">//空参构造方法简写
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span>person<span style="color:#f92672">)</span>p2<span style="color:#f92672">);</span>  <span style="color:#75715e">//向下转型
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>获取成员方法</p>
<p>setAccessible 忽略访问权限修饰符的安全检测，暴力反射</p>
<p>获取类名</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.demoreflect<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> com.person.person<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.lang.reflect.Constructor<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.lang.reflect.InvocationTargetException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.lang.reflect.Method<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">reflectDemo2</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> NoSuchMethodException<span style="color:#f92672">,</span> InvocationTargetException<span style="color:#f92672">,</span> InstantiationException<span style="color:#f92672">,</span> IllegalAccessException <span style="color:#f92672">{</span>
        Class personClass <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
        <span style="color:#75715e">//    获取所有成员方法
</span><span style="color:#75715e"></span>        Method<span style="color:#f92672">[]</span> methods <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethods</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>Method method <span style="color:#f92672">:</span> methods<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>method<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>

        <span style="color:#75715e">//获取方法
</span><span style="color:#75715e"></span>        Method eatMethod <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;eat&#34;</span><span style="color:#f92672">);</span>
        person p1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> person<span style="color:#f92672">();</span>
        eatMethod<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>p1<span style="color:#f92672">);</span> <span style="color:#75715e">//执行空参方法
</span><span style="color:#75715e"></span>        Method eatMethod2 <span style="color:#f92672">=</span> personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;eat&#34;</span><span style="color:#f92672">,</span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">String</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        eatMethod2<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>p1<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;food&#34;</span><span style="color:#f92672">);</span> <span style="color:#75715e">//执行带参方法
</span><span style="color:#75715e"></span>
        <span style="color:#75715e">//获取方法名
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>eatMethod2<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
        <span style="color:#75715e">//    获取类名
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>personClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="反射案例">反射案例</h2>
<h3 id="自定义框架创建任意类并执行其中任意方法">自定义框架：创建任意类，并执行其中任意方法</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.demoreflect<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.InputStream<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.lang.reflect.InvocationTargetException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.lang.reflect.Method<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Properties<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">reflectproject</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> IOException<span style="color:#f92672">,</span> ClassNotFoundException<span style="color:#f92672">,</span> InstantiationException<span style="color:#f92672">,</span> IllegalAccessException<span style="color:#f92672">,</span> NoSuchMethodException<span style="color:#f92672">,</span> InvocationTargetException <span style="color:#f92672">{</span>
        <span style="color:#75715e">//创建任意类对象，执行任意方法
</span><span style="color:#75715e"></span>
        <span style="color:#75715e">//1创建对象
</span><span style="color:#75715e"></span>        Properties prop <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Properties<span style="color:#f92672">();</span>
        InputStream is <span style="color:#f92672">=</span> reflectproject<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getClassLoader</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getResourceAsStream</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;pro.properties&#34;</span><span style="color:#f92672">);</span>
        prop<span style="color:#f92672">.</span><span style="color:#a6e22e">load</span><span style="color:#f92672">(</span>is<span style="color:#f92672">);</span>

        <span style="color:#75715e">//2.获取配置内容
</span><span style="color:#75715e"></span>        String className <span style="color:#f92672">=</span> prop<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;className&#34;</span><span style="color:#f92672">);</span>
        String methodName <span style="color:#f92672">=</span> prop<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;methodName&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">//加载该类进内存
</span><span style="color:#75715e"></span>        Class cls <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span>className<span style="color:#f92672">);</span>
				<span style="color:#75715e">//利用类创建对象
</span><span style="color:#75715e"></span>        Object clsobj <span style="color:#f92672">=</span> cls<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span>
				<span style="color:#75715e">//创建配置方法
</span><span style="color:#75715e"></span>        Method method <span style="color:#f92672">=</span> cls<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">(</span>methodName<span style="color:#f92672">);</span>
				<span style="color:#75715e">//执行方法传入对象参数
</span><span style="color:#75715e"></span>        method<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>clsobj<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div>
  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Maka8ka 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/post/">Posts</a></li>
         
        <li><a href="/categories/">Categories</a></li>
         
        <li><a href="https://github.com/Maka8ka">Github</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>
